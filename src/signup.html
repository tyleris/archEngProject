<!DOCTYPE html>
<html>
  <head>
    <title>CoffeeSandwhichCocktail</title>
    <meta charset='utf-8' />
  </head>
  <body>
    <p>CoffeeSandwhichCocktail</p>

    <!--Add buttons to initiate auth sequence and sign out-->
    <br>
    <br>
    <button id="authorize-button" onclick="getGoogleLink()">Get Google authorization code</button>
    <br>
    <br>
    User Name 
    <br>
    <input type="text" id="username" placeholder="create user name"></input>
    <br>
    <br>
    Secret code from Google 
    <br>
    <input type="text" id="secret" placeholder="Google code"></input>
    <br>
    <br>
    <button id="submit" onclick="submit()">Signup</button>

    <!-- load JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    
    <script type="text/javascript">
    
        var authorizeButton = document.getElementById('authorize-button');
        var usernameInput = document.getElementById('username'); 
        var secretInput = document.getElementById('secret');
        var submitButton = document.getElementById('submit');
        
        // get google auth link
        function getGoogleLink(){
            $.get('/userLink', (data) => {
                var link = data;
                window.open(link);
            });
        }
        
        // Send username and client secret to server 
        function submit(){
            var user = usernameInput.value;
            var secret = secretInput.value;
            $.post('/saveToken', { user: user, secret: secret }, (data) => {
                alert(data);
            });
        }
        
    
    
    </script>